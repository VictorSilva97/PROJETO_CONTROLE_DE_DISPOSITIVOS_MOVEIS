use PROJETO_CONTROLE_DE_DISPOSITIVOS_MOVEIS;


create view view_relatorio as 
	select 'APARELHOS'	AS 'RELATORIO',
	COUNT(*) AS 'QUANTIDADE' from TBT_APARELHOS  union
    select 	'DOS BAIRROS',
	COUNT(*) from TBT_BAIRROS union
    select 	'DOS CARGOS',
	COUNT(*) from TBT_CARGOS union
    select 	'CIDADES',
	COUNT(*) from TBT_CIDADES union
    select 	'ESTADOS',
	COUNT(*) from TBT_ESTADOS union
    select 	'FILA DE ESPERA',
	COUNT(*) from TBT_FILA_DE_ESPERA union
    select 	'FUNCIONARIOS TOTAIS',
	COUNT(*) from TBT_FUNCIONARIOS union
    select 	'FUNCIONARIOS COM APARELHO',
	COUNT(*) from TBT_FUNCIONARIOS_APARELHOS union
    select 	'GENEROS',
	COUNT(*) from TBT_GENEROS union
    select 	'LINHAS TELEFONICAS',
	COUNT(*) from TBT_LINHAS_TELEFONICAS union
    select 	'MARCAS DE CELULAR',
	COUNT(*) from TBT_MARCAS_DE_CELULAR union
    select 	'MODELOS DE CELULAR',
	COUNT(*) from TBT_MODELOS_DE_CELULAR union
    select 	'OPERADOS TELEFONICAS',
	COUNT(*) from TBT_OPERADORAS_TELEFONICAS union
    select 	'PAISES',
	COUNT(*) from TBT_PAISES union
    select 	'RUAS',
	COUNT(*) from TBT_RUAS union
    select 	'TELEFONES DOS FUNCIONARIOS',
	COUNT(*) from TBT_TELEFONES_FUNCIONARIOS union
    select 	'TIPOS DE CHIP',
	COUNT(*) from TBT_TIPOS_DE_CHIP;
  
  
  
  create view view_fila_espera AS 
	select 
     fe.POSICAO,
     fu.NOME_COMPLETO as 'NOME FUNCIONARIO',
     md.NOME_MODELO AS 'MODELO'
    from tbt_fila_de_espera fe
    inner join tbt_funcionarios fu
    on fu.id_funcionario = fe.fk_id_funcionario
    inner join tbt_modelos_de_celular md
	on md.id_modelo = fe.FK_ID_MODELO;



create view view_funcionariosAparelhos as select
			fu.id_funcionario as 'id do Funcionario',
			fu.nome_completo,
			a.id_aparelho as 'ID do Aparelho',
			m.NOME_MODELO,
			l.NUMERO_TELEFONE,
			o.NOME_OPERADORA
						
		from tbt_funcionarios_aparelhos fa
		inner join tbt_funcionarios fu
		on fu.id_funcionario = fa.fk_id_funcionario
		inner join tbt_aparelhos a
		on a.id_aparelho = fa.fk_id_aparelho
		inner join tbt_modelos_de_celular m
		on m.id_modelo = a.fk_id_modelo
		left join tbt_linhas_telefonicas l
		on l.fk_id_aparelho = a.id_aparelho
		left join tbt_operadoras_telefonicas o 
		on o.ID_OPERADORA = l.FK_ID_OPERADORA
		order by FU.NOME_COMPLETO;

create view VIEW_FUNCIONARIOS AS select

		fu.ID_FUNCIONARIO 			as 'Id do Funcionário',
		fu.NOME_COMPLETO 				as 'Nome do Funcionário',
        fu.cpf AS 'CPF',
        fu.rg AS 'RG',
        fu.data_nascimento 'DATA DE NASCIMENTO',
        C.NOME_CARGO AS 'CARGO',
        ge.nome_genero AS 'GENERO'
  
from TBT_FUNCIONARIOS fu
left join tbt_cargos C
on c.ID_CARGO = fu.FK_ID_CARGO
left join tbt_generoS ge
on ge.id_genero = fu.fk_id_genero;



create view view_linha as
	select 
    l.id_linha as 'ID DA LINHA',
    l.numero_telefone AS 'NUMERO TELEFONE',
    c.nome_cidade AS 'CIDADE',
    ap.id_aparelho AS 'ID DO APARELHO',
    o.nome_operadora AS 'OPERADORA'
    
    from tbt_linhas_telefonicas l
    left  join tbt_cidades c
    on c.id_cidade = l.FK_ID_CIDADE
    left join tbt_aparelhos ap
    on ap.id_aparelho = l.fk_id_aparelho
    left join tbt_operadoras_telefonicas o
    on o.id_operadora = l.fk_id_operadora
 












;












